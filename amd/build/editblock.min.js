define(["core/log","core/ajax","core/notification"],function(e,i,l){"use strict";function t(){}return t.prototype.main=function(){const t=this;t.checkBlockType();document.querySelector(".linktype input:checked")||(document.querySelector('.linktype input[value="file"]').checked=!0),t.checkLinkType();for(var e=document.querySelectorAll(".blocktype input"),c=0;c<e.length;c++)e[c].addEventListener("change",e=>{t.checkBlockType()});for(var n=document.querySelectorAll(".linktype input"),c=0;c<n.length;c++)n[c].addEventListener("change",e=>{t.checkLinkType()});let o=document.querySelector(".btn-delete");o.addEventListener("click",e=>{e.preventDefault(),i.call([{methodname:"mod_website_apicontrol",args:{action:"delete_block",data:o.dataset.blockid},done:function(e){window.open(o.dataset.returnurl,"_parent")},fail:l.exception}])})},t.prototype.checkBlockType=function(){var e=document.querySelector(".blocktype input:checked").value;document.querySelector('form[data-form="website-siteblock"]').dataset.blocktype=e},t.prototype.checkLinkType=function(){var e=document.querySelector(".linktype input:checked");null!=e&&(document.querySelector('form[data-form="website-siteblock"]').dataset.linktype=e.value)},t.prototype.checkIncludePicture=function(){var e=document.querySelector(".includepicture input:checked");null!=e&&(document.querySelector('form[data-form="website-siteblock"]').dataset.includepicture=e.value)},{init:function(){e.debug("mod_website/editblock: initializing"),(new t).main()}}});