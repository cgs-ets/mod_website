define(["core/log","jquery"],function(e,p){"use strict";function i(){}return i.prototype.main=function(){this.pagination({pagerSelector:"#myPager",showPrevNext:!0,hidePageNumbers:!1,perPage:10})},i.prototype.pagination=function(e){var i=p("#mod-website-logs"),a=p.extend({perPage:10,showPrevNext:!0,hidePageNumbers:!1},e),e=i,n=a.perPage,t=e.children(),r=p(".pager"),i=(void 0!==a.childSelector&&(t=e.find(a.childSelector)),void 0!==a.pagerSelector&&(r=p(a.pagerSelector)),t.length),l=Math.ceil(i/n);if(r.data("curr",0),r.empty(),a.showPrevNext&&1<l&&p('<li class="page-item"><a href="#" class="prev_link page-link" aria-label="Previous"><span aria-hidden="true">«</span></a></li>').appendTo(r),!a.hidePageNumbers)for(var o=0;o<l;o++)p('<li class="page-item"><a href="#" class="page-link">'+(o+1)+"</a></li>").appendTo(r).data("page-index",o);function c(e){var i,a;e<0||l<=e||(a=(i=e*n)+n,t.hide().slice(i,a).show(),r.data("curr",e),s(e))}function s(e){r.find(".page-item").removeClass("active"),a.hidePageNumbers||r.find(".page-item").eq(e+(a.showPrevNext?1:0)).addClass("active"),r.find(".prev_link").toggle(0<e),r.find(".next_link").toggle(e<l-1)}a.showPrevNext&&1<l&&p('<li class="page-item"><a href="#" class="next_link page-link" aria-label="Next"><span aria-hidden="true">»</span></a></li>').appendTo(r),t.hide().slice(0,n).show(),s(0),r.on("click",".page-link:not(.prev_link):not(.next_link)",function(){return c(p(this).parent().data("page-index")),!1}),r.on("click",".prev_link",function(){var e=r.data("curr");return 0<e&&c(e-1),!1}),r.on("click",".next_link",function(){var e=r.data("curr");return e<l-1&&c(e+1),!1})},{init:function(){e.debug("mod_website/logcontrol: initializing"),(new i).main()}}});