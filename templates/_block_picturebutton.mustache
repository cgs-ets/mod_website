{{!
    This file is part of Moodle - https://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template mod_website/_block_picturebutton

    A picture button.
}}
<div class="picturebutton-wrap">
  <a {{^iscontent}}target="{{target}}"{{/iscontent}} class="picturebutton {{#iscontent}}picturebutton-type-content{{/iscontent}} {{#isfile}}picturebutton-type-file{{/isfile}}" href="{{#isfile}}{{buttonfile}}{{/isfile}}{{#isurl}}{{buttonurl}}{{/isurl}}{{#ispage}}{{buttonpageurl}}{{/ispage}}{{#iscontent}}#{{/iscontent}}">
    <figure 
      class="image-block {{^includepicture}}nopicture{{/includepicture}}" 
      {{^includepicture}}data-filetype="{{buttonfilemime}}"{{/includepicture}}
      {{#includepicture}}style="background-image: url({{buttonpicture.path}})"{{/includepicture}}
      >

      {{#isfile}}
        <h2>
          {{#buttonfilemimeicon}} {{{buttonfilemimeicon}}} {{/buttonfilemimeicon}}
          {{^buttonfilemimeicon}} {{buttonfilemime}} {{/buttonfilemimeicon}}
        </h2>
        <figcaption><h3>{{buttontitle}}</h3></figcaption>
      {{/isfile}}

      {{^isfile}}
        {{^includepicture}}<h2>{{buttontitle}}</h2>{{/includepicture}}
        {{#includepicture}}
          <figcaption><h3>{{buttontitle}}</h3></figcaption>
        {{/includepicture}}
      {{/isfile}}

    </figure>
  </a>
  {{#iscontent}}
    <div class="picturebutton-content" data-id="{{blockid}}" data-loadwithpage="{{isloadwithpage}}" data-contenturl="{{contenturl}}">
      {{#isloadwithpage}}
        {{{content}}}
      {{/isloadwithpage}}
      <br>
    </div>
  {{/iscontent}}
</div>